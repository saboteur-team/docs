<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>France FSM - Saboteur Team Wiki</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "France FSM";
        var mkdocs_page_input_path = "game/formats/france_fsm.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> Saboteur Team Wiki
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Game</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../">Index</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Client</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../client/">Index</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../client/random_offsets/">Random Offsets</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../crc/">Crc</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../filesystem/">Filesystem</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">File formats</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../">Index</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../gametext/">GameText</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../loosefiles/">LooseFiles</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../luap/">LuaScripts</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../megapack/">Megapack/Kilopack</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="./">France FSM</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#kaitai-formats">Kaitai Formats</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#pc">PC</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../france_fst/">France FST</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../lua/">Lua</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../versions/">Versions</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Tools</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../tools/">Index</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../tools/sabtool/">SabTool</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">Saboteur Team Wiki</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Game &raquo;</li>
          <li>File formats &raquo;</li><li>France FSM</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="france_fsminfo">France_FSM.info</h1>
<p><code>France_FSM.info</code> contains entries for placements long distance visible 3D monuments to be displayed. <code>(Game Root)\France_FSM.info</code>.
When monument buildings are too far to render normally, they are replaced with low lod representations that can be seen from very long distances.</p>
<p>The format contains an array of monument entries defining a CRC hash to represent the name of the 3D model to be used and 3D transform information for the position and scale of it on the map.
As an example for the CRC, the entry for the Eifel tower has <code>0x1E821A55</code>, which maps to the model name: <code>FFS_MN_A07_Eifel_Tower</code>.</p>
<p>The position of each monument is controlled by a 4x4 affine <a href="https://www.brainvoyager.com/bv/doc/UsersGuide/CoordsAndTransforms/SpatialTransformationMatrices.html">transformation matrix</a>, where <code>m11</code>, <code>m22</code>, and <code>m33</code> are the column vector controlling the scale of the monument. This allows adjusting where the monument will be placed in the far scene as well as the size of it.</p>
<h2 id="kaitai-formats"><a href="http://kaitai.io/">Kaitai</a> Formats</h2>
<h3 id="pc">PC</h3>
<pre><code class="language-yaml">meta:
  id: france_fsm
  file-extension: france_fsm
  endian: le
seq:
  - id: file_id
    type: u4
  - id: file_version
    type: u4
  - id: num_sources
    type: u4
  - id: num_objects
    type: u4
  - id: sources
    type: monument_source
    repeat: expr
    repeat-expr: num_sources
  - id: monuments
    type: monument
    repeat: expr
    repeat-expr: num_objects
types:
  monument_source:
    seq:
      - id: file_id
        type: u4
      - id: file_version
        type: u4
      - id: name_crc
        type: u4
  monument:
    seq:
      - id: file_id
        type: u4
      - id: file_version
        type: u4
      - id: entry
        type:
          switch-on: file_version
          cases:
            1: monument_entry_1
            2: monument_entry_2
  monument_entry_1:
    seq:
      - id: mesh_crc
        type: u4
      - id: root_transform
        type: matrix44
  monument_entry_2:
    seq:
      - id: mesh_crc
        type: u4
      - id: min_aabb
        type: vector3
      - id: max_aabb
        type: vector3
      - id: root_transform
        type: matrix44
  vector3:
    seq:
      - id: x
        type: f4
      - id: y
        type: f4
      - id: z
        type: f4
  matrix44:
    seq:
      - id: m11
        type: f4
      - id: m12
        type: f4
      - id: m13
        type: f4
      - id: m14
        type: f4
      - id: m21
        type: f4
      - id: m22
        type: f4
      - id: m23
        type: f4
      - id: m24
        type: f4
      - id: m31
        type: f4
      - id: m32
        type: f4
      - id: m33
        type: f4
      - id: m34
        type: f4
      - id: m41
        type: f4
      - id: m42
        type: f4
      - id: m43
        type: f4
      - id: m44
        type: f4
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../megapack/" class="btn btn-neutral float-left" title="Megapack/Kilopack"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../france_fst/" class="btn btn-neutral float-right" title="France FST">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../megapack/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../france_fst/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../../..';</script>
    <script src="../../../js/theme_extra.js" defer></script>
    <script src="../../../js/theme.js" defer></script>
      <script src="../../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
